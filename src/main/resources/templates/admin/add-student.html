<!-- Location: src/main/resources/templates/admin/add-student.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="~{fragments/header :: head}"></head>
<body>
<nav th:replace="~{fragments/header :: navbar}"></nav>

<div class="container mt-5">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="form-container">
                <!-- Header -->
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h3><i class="fas fa-user-plus"></i> Add New Student</h3>
                    <a th:href="@{/admin/dashboard}" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> Back to Dashboard
                    </a>
                </div>

                <!-- Success/Error Messages -->
                <div th:if="${success}" class="alert alert-success alert-dismissible fade show">
                    <i class="fas fa-check-circle"></i> <span th:text="${success}"></span>
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>

                <div th:if="${error}" class="alert alert-danger alert-dismissible fade show">
                    <i class="fas fa-exclamation-circle"></i> <span th:text="${error}"></span>
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>

                <!-- Student Form -->
                <form th:action="@{/admin/add-student}" th:object="${student}" method="post">

                    <!-- Personal Information Section -->
                    <div class="mb-4">
                        <h5 class="border-bottom pb-2">
                            <i class="fas fa-id-card"></i> Personal Information
                        </h5>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="rollNumber" class="form-label">
                                    <i class="fas fa-hashtag"></i> Roll Number *
                                </label>
                                <input type="text" class="form-control" id="rollNumber"
                                       th:field="*{rollNumber}"
                                       placeholder="e.g., CS2025001"
                                       required>
                                <div class="form-text">Unique identifier for the student</div>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label for="fullName" class="form-label">
                                    <i class="fas fa-user"></i> Full Name *
                                </label>
                                <input type="text" class="form-control" id="fullName"
                                       th:field="*{fullName}"
                                       placeholder="e.g., John Doe"
                                       required>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="email" class="form-label">
                                    <i class="fas fa-envelope"></i> Email Address *
                                </label>
                                <input type="email" class="form-control" id="email"
                                       th:field="*{email}"
                                       placeholder="student@college.edu"
                                       required>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label for="phone" class="form-label">
                                    <i class="fas fa-phone"></i> Phone Number
                                </label>
                                <input type="tel" class="form-control" id="phone"
                                       th:field="*{phone}"
                                       placeholder="+91 9876543210"
                                       pattern="[0-9+\s-()]*">
                            </div>
                        </div>
                    </div>

                    <!-- Academic Information Section -->
                    <div class="mb-4">
                        <h5 class="border-bottom pb-2">
                            <i class="fas fa-graduation-cap"></i> Academic Information
                        </h5>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="department" class="form-label">
                                    <i class="fas fa-building"></i> Department *
                                </label>
                                <select class="form-select" id="department" th:field="*{department}" required>
                                    <option value="">Select Department</option>
                                    <option value="Computer Science">Computer Science</option>
                                    <option value="Information Technology">Information Technology</option>
                                    <option value="Electronics and Communication">Electronics and Communication</option>
                                    <option value="Electrical Engineering">Electrical Engineering</option>
                                    <option value="Mechanical Engineering">Mechanical Engineering</option>
                                    <option value="Civil Engineering">Civil Engineering</option>
                                    <option value="Chemical Engineering">Artificial Intelligence and Machine Learning Engineering</option>
                                    <option value="Biotechnology">Robotics and Automation Engineering</option>
                                </select>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label for="graduationYear" class="form-label">
                                    <i class="fas fa-calendar-alt"></i> Graduation Year *
                                </label>
                                <select class="form-select" id="graduationYear" th:field="*{graduationYear}" required>
                                    <option value="">Select Year</option>
                                    <option value="2024">2024</option>
                                    <option value="2025">2025</option>
                                    <option value="2026">2026</option>
                                    <option value="2027">2027</option>
                                    <option value="2028">2028</option>
                                    <option value="2029">2029</option>
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="cgpa" class="form-label">
                                    <i class="fas fa-chart-line"></i> CGPA
                                </label>
                                <input type="number" class="form-control" id="cgpa"
                                       th:field="*{cgpa}"
                                       placeholder="e.g., 8.5"
                                       step="0.01"
                                       min="0"
                                       max="10">
                                <div class="form-text">CGPA on a scale of 10</div>
                            </div>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="d-flex justify-content-between">
                        <button type="reset" class="btn btn-secondary">
                            <i class="fas fa-undo"></i> Reset Form
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Save Student
                        </button>
                    </div>
                </form>

                <!-- Info Box -->
                <div class="alert alert-info mt-4">
                    <i class="fas fa-info-circle"></i>
                    <strong>Note:</strong> All fields marked with * are mandatory. Make sure to enter accurate information as it will be used for placement records.
                </div>
            </div>
        </div>
    </div>
</div>

<footer th:replace="~{fragments/footer :: footer}"></footer>
<div th:replace="~{fragments/footer :: scripts}"></div>

<script>
    // Form validation
    (function () {
        'use strict'
        var forms = document.querySelectorAll('form')
        Array.prototype.slice.call(forms).forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }
                form.classList.add('was-validated')
            }, false)
        })
    })()
</script>
</body>
</html>
